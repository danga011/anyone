# Codex 에이전트 작업 지침서 (AGENTS.md)

이 문서는 OpenAI Codex 에이전트가 `traffic-safety-vr` 프로젝트를 일관성 있고 올바르게 개발하기 위한 지침을 정의합니다.

---

### 1. 프로젝트 개요

*   **프로젝트 명**: `traffic-safety-vr`
*   **핵심 목표**: 어린이 교통안전 교육을 위한 VR 시뮬레이션 개발. **운전자의 제한된 시점**에서 불법 주정차된 차량 사이로 갑자기 튀어나오는 보행자의 위험성을 체험하게 하는 것이 가장 중요하다.
*   **주요 기술**: A-Frame (Three.js 기반), JavaScript (ES6 Classes), Bootstrap 5

---

### 2. 핵심 개발 원칙 (매우 중요)

1.  **운전자 1인칭 시점 절대 유지**: 이 프로젝트의 핵심은 '운전자의 시야'를 체험하는 것입니다. 3인칭 시점으로 변경하거나, 운전 경험의 몰입감을 해치는 그 어떤 시점도 추가해서는 안 됩니다. 모든 시각적 요소 개발은 '운전석에 앉아있는 경험'을 강화하는 데 집중해야 합니다.

2.  **교육적 목표 우선**: 모든 기능(물리, 그래픽, 난이도)은 '어린이에게 위험성을 효과적으로 인지시키는 것'을 최우선으로 고려해야 합니다. 재미를 위한 게임적 요소나 비현실적인 판타지 요소는 엄격히 지양합니다.

3.  **현실성과 단순성의 조화**: 물리 공식, 도로 환경 등은 현실을 기반으로 하되, 충돌 장면과 같이 민감할 수 있는 부분은 지나치게 자극적이거나 사실적으로 표현하지 않습니다. (예: 화면 흔들림, 소리, 게임 오버 화면으로 처리하는 것이 적절합니다.)

4.  **기존 코드 스타일 및 구조 준수**: 
    *   **`index.html`**: A-Frame을 사용한 선언적(Declarative) 방식으로 씬(Scene)을 구성합니다. 복잡한 동적 생성은 JavaScript에서 처리합니다.
    *   **`js/game.js`**: 메인 게임 루프, 상태 관리, 사용자 입력 처리 등 핵심 로직을 담당합니다.
    *   **`js/physics.js`**: 속도 변환, 제동거리 계산 등 순수 물리 계산 로직을 담당합니다.
    *   **`js/ui.js`**: Bootstrap Modal, HUD 등 UI 관련 상호작용을 담당합니다.
    *   새로운 코드를 추가할 때, 반드시 기존 파일들의 네이밍 컨벤션(camelCase)과 클래스 기반 구조를 따릅니다.

---

### 3. 주요 명령어 활용 방안

*   **/review**: 코드 수정 제안 시, 반드시 위 '핵심 개발 원칙' 4가지에 부합하는지 스스로 검토해야 합니다. 특히 **1번 원칙(1인칭 시점 유지)**을 위반하는 제안은 절대 하지 않습니다.

*   **/approvals**: 파일 수정(`Update`), 셸 명령어 실행(`Bash`) 등 사용자 시스템에 변경을 가하는 작업을 수행하기 전에는, 항상 변경 내용과 그 이유를 명확히 설명하고 사용자로부터 승인을 받아야 합니다. (이 프로젝트에서는 `auto-approve` 기능을 사용하지 않는 것을 권장합니다.)

*   **/model**: 이 프로젝트는 시각적 요소와 물리적 상호작용의 디테일이 중요하므로, 가장 높은 수준의 연산 강도("reasoning effort")를 사용하는 모델(예: `gpt-5-codex`)을 유지하는 것을 권장합니다.
