# 🏃 어린이 달리기 애니메이션 상세 설명

## 🎯 설계 목표

기존의 "귀신처럼 갑자기 나타나는" 문제를 해결하고, 실제 어린이가 뛰어나오는 모습을 사실적으로 재현합니다.

## 📊 실제 물리 데이터 기반

### 어린이 달리기 속도
```javascript
this.obstacleRunSpeed = 3.5; // m/s
```

**실제 데이터:**
- 8-10세 어린이 평균 달리기 속도: 3-4 m/s
- 성인 평균 달리기 속도: 5-6 m/s
- 올림픽 선수 전력질주: 10+ m/s

**시간 계산 예시:**
- 인도(4.5m)에서 도로 중앙(0m)까지: 약 1.3초
- 인도에서 반대편 인도까지(9m): 약 2.6초

### 차량과 속도 비교

| 차량 속도 | m/s | 어린이 대비 배율 |
|---------|-----|----------------|
| 30 km/h | 8.3 m/s | 2.4배 |
| 40 km/h | 11.1 m/s | 3.2배 |
| 50 km/h | 13.9 m/s | 4.0배 |

→ 차량이 어린이보다 2.4~4배 빠르므로, 늦게 발견하면 피하기 어려움

## 🎨 애니메이션 구조

### 1. 캐릭터 모델 (8-10세 비율)

```
총 높이: 약 1.3m

- 머리: 0.18m 반지름 구체
- 몸통: 0.35m × 0.5m × 0.2m
- 팔: 0.12m × 0.45m × 0.12m (양쪽)
- 다리: 0.14m × 0.5m × 0.14m (양쪽)
- 신발: 0.15m × 0.06m × 0.22m
```

**실제 어린이 비율:**
- 8세 평균 키: 125cm
- 10세 평균 키: 140cm
- 게임 모델: 약 130cm (중간값)

### 2. 달리기 사이클

```javascript
const runCycle = runElapsed * 2.5; // 초당 2.5 사이클
```

**설정 근거:**
- 어린이 보폭: 약 1.4m
- 속도 3.5 m/s ÷ 1.4m = 2.5 걸음/초
- 1 사이클 = 양발이 각각 한 번씩 앞으로 나감

### 3. 애니메이션 요소

#### A. 상하 움직임 (Bob)
```javascript
const bobHeight = Math.abs(Math.sin(runCycle * Math.PI * 2)) * 0.08;
```
- 진폭: 8cm (실제 달릴 때 상하 움직임)
- 주기: 1 사이클마다 한 번 상승

#### B. 몸통 기울임
```javascript
const bodyLean = Math.sin(runCycle * Math.PI * 2) * 3;
```
- 각도: ±3도
- 앞뒤로 약간 흔들리는 자연스러운 움직임

#### C. 팔 스윙
```javascript
const armSwing = Math.sin(runCycle * Math.PI * 2) * 60;
leftArm.rotation = -armSwing  // -60° ~ +60°
rightArm.rotation = armSwing   // +60° ~ -60°
```
- 범위: ±60도 (전력 질주 시 팔 각도)
- 좌우 팔이 반대 방향으로 움직임

#### D. 다리 움직임
```javascript
const legSwing = Math.sin(runCycle * Math.PI * 2) * 50;
leftLeg.rotation = legSwing    // +50° ~ -50°
rightLeg.rotation = -legSwing  // -50° ~ +50°
```
- 범위: ±50도
- 팔과 같은 주기로 교차 움직임

## 🔄 애니메이션 흐름

```
1. 어린이가 인도에 등장
   ↓
2. 3.5 m/s 속도로 일정하게 달리기 시작
   ↓ (실시간 애니메이션)
   - 팔/다리 스윙 (2.5 Hz)
   - 상하 움직임 (8cm)
   - 몸통 흔들림 (±3°)
   ↓
3. 목표 지점(도로) 도착
   ↓
4. 멈춘 자세로 리셋 (모든 rotation = 0)
```

## 🎮 SUV 운전자 시점

### 카메라 높이 비교

| 차량 종류 | 카메라 높이 | 특징 |
|---------|-----------|------|
| 경차 | 1.1m | 시야가 낮아 장애물 발견 어려움 |
| 승용차 | 1.2m | 일반적인 운전자 시점 |
| **SUV** | **1.8m** | **높은 시점, 시야 확보 유리** |
| 트럭 | 2.2m | 매우 높은 시점 |

### SUV 선택 이유

1. **교육 효과**:
   - SUV는 시야가 좋지만, 불법주정차 차량이 가림
   - "차량이 크다고 안전한 것은 아니다"는 메시지

2. **현실성**:
   - 한국에서 SUV 인기 증가 추세
   - 학부모들이 많이 운전하는 차량

3. **VR 몰입감**:
   - 높은 시점에서 도로 전체 조망 가능
   - 운전대도 시야에 포함

## 🧪 테스트 시나리오

### 시나리오 1: 저속 (30 km/h)
```
차량 속도: 8.3 m/s
어린이 속도: 3.5 m/s
상대 속도 비율: 2.4:1

→ 발견 후 반응할 시간 비교적 충분
```

### 시나리오 2: 고속 (50 km/h)
```
차량 속도: 13.9 m/s
어린이 속도: 3.5 m/s
상대 속도 비율: 4.0:1

→ 발견이 늦으면 피하기 매우 어려움
```

### 시나리오 3: 시야 차단
```
좌측 차량(z=-22)에 가려진 상태에서
왼쪽 인도(x=-4.5)에서 어린이 출현

→ SUV 높이에도 불구하고 발견 지연
→ 불법주정차의 위험성 체감
```

## 💡 애니메이션 개선 아이디어

### 현재 (v1.0)
- 단순 사인파 기반 팔/다리 스윙
- 일정한 속도로 이동

### 향후 개선안
1. **가속 구간 추가**:
   - 처음 0.2초 동안 0 → 3.5 m/s 가속
   - 더 자연스러운 출발

2. **고급 애니메이션**:
   - Inverse Kinematics (IK)로 발이 땅에 닿는 효과
   - 머리 흔들림 추가
   - 표정 변화 (놀람 → 달리기)

3. **소리 효과**:
   - 발소리 (타닥타닥)
   - 숨소리
   - 배경 소음 (차량 엔진 소리)

4. **다양한 모션**:
   - 천천히 걷다가 갑자기 뛰기
   - 공을 쫓아가는 모션
   - 친구를 보고 달려가는 모션

## 📐 수학 공식

### 위치 계산 (선형)
```
x(t) = x_start + direction × speed × t
```

### 애니메이션 각도 (사인파)
```
angle(t) = amplitude × sin(2π × frequency × t)
```

### 주기 계산
```
frequency = speed / stride_length
         = 3.5 m/s / 1.4m
         = 2.5 Hz
```

## 🎓 교육적 활용

### 학습 포인트
1. **속도 감각**: 차량과 어린이의 속도 차이 체험
2. **반응 시간**: 발견부터 브레이크까지의 중요성
3. **시야 확보**: 불법주정차가 얼마나 위험한지 이해
4. **물리 법칙**: 속도가 빠를수록 제동거리 증가

### 토론 주제
- "어린이가 도로에 나타났을 때, 왜 바로 멈추지 못했나요?"
- "주차된 차가 없었다면 더 빨리 발견할 수 있었을까요?"
- "SUV는 시야가 좋은데도 왜 위험했나요?"

---

**버전**: 1.0.0
**마지막 업데이트**: 2025-10-01
